{% extends "base.html" %}

{% block title %}Upload{% endblock %}

{% block cssblock %}
<link rel="stylesheet" href="{{ MEDIA_URL }}css/uniform.custom.css" type="text/css" media="screen" charset="utf-8" />
{% endblock %}

{% block content %}
<noscript>
  <h3 id="nojs">This page works best with Javascript enabled&hellip;</h3>
</noscript>

<h1>Upload files</h1>

<form enctype="multipart/form-data" action="." method="post">{% csrf_token %}
  <ul>
    <li><label>Files</label></li>
    <li> 
      <ul id="fileUploads">
        <li><input class="realupload" type="file" name="file1" id="file1" /></li>
      </ul>
    </li>
    <li><a href="#" id="addFile">Add another file...</a></li>

    <li><input class="button" type="submit" value="Next" /></li>
  </ul>
</form>
{% endblock %}

{% block jsblock %}
{% include "partials/jquery.html" %}
<script src="{{ MEDIA_URL }}js/jquery.uniform.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
  var num_files = 1;
  $("input:file").uniform();

  // "Add file" link clicked
  $('#addFile').click(function() {
    // Update file counter
    num_files++;

    // Create and insert file 
    var li = $(document.createElement('li'))
      .appendTo('#fileUploads');
    $(document.createElement('input'))
      .addClass('realupload')
      .attr({'type': 'file', name: 'file' + num_files, 'id': 'file' + num_files})
      .appendTo(li)
      .uniform();
    return false;
  });
});
</script>
{% endblock %}
