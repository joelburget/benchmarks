{% extends "base.html" %}
{% block title %}Posts{% endblock %}
{% block jsblock %}
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="{{ MEDIA_URL }}jquery.tablesorter.min.js"></script>
<script>
$(document).ready(function() 
    { 
        $("#postTable").tablesorter({
          sortList: [[2,0]]
        }); 
    } 
); 
</script>
{% endblock %}
{% block cssblock %}
<link rel="stylesheet" href="{{ MEDIA_URL }}blue/style.css" type="text/css" />
{% endblock %}
{% block content %}
{% include "posts/_search.html" %}
<table class="tablesorter" id="postTable">
  <thead>
  <tr>
    <th>Title</th>
    <th>Content</th>
    <th>Publish Date</th>
    <th>Author</th>
    <th>Featured</th>
    <th>Category</th>
  </tr>
  </thead>

  <tbody>
  {% for object in object_list %}
  <tr>
    <td><a href="{{ object.get_absolute_url }}">{{ object.title }}</a></td>
    <td>{{ object.body|truncatewords_html:"20"|striptags }} </td>
    <td>{{ object.published }}</td>
    <td><a href="{{ object.author.get_absolute_url }}">{{ object.author.first_name }} {{ object.author.last_name }}</a></td>
    <td>{% if object.sticky %}Yes{% else %}No{% endif %}</td>
    <td>{{ object.get_category_display }}</td>
  </tr>
  {% endfor %}
  </tbody>
</table>
{% endblock %}
