{% extends "base.html" %}

{% block title %}Editing {{ user.username }}{% endblock %}

{% block content %}
<!-- Notice -->
<p><b>We will not share email addresses with the public.</b> Addresses are only displayed to other users, provided you allow it. Providing your address will make it even easier to collaborate with other users, and as such, is highly recommended.</p>

<p><b>Profile pictures can be added through Gravatar.</b> To set up your profile picture, visit <a href="http://gravatar.com/site/signup">gravatar.com</a>, and register there with the same email address you used here. Once you upload your picture at Gravatar, we will automatically link up and display it here for you.</p>

<!-- Form -->
<form action="." method="post" id="editForm">
  {% csrf_token %}

  {{ formset.first_name.label_tag }}: <input class="validate[required]" type="text" name="first_name" id="first_name" value="{{ user.first_name }}" /> {{ formset.first_name.errors }}<br />

  {{ formset.last_name.label_tag }}: <input class="validate[required]" type="text" name="last_name" id="last_name" value= "{{ user.last_name }}" /> {{ formset.last_name.errors }}<br />

  {{ formset.email.label_tag }}: <input class="validate[required, email]" type="text" name="email" id="email" value="{{ user.email }}" /> {{ formset.email.errors }}<br /> 

  <label for="bio">Bio</label>: <textarea class="validate[optional, length[0,200]]" name="bio" id="bio" value="{{ user.get_profile.bio }}"></textarea><br /> {{ bioerrors }}

  <label for="showemail">Show Email to other Users</label>: <input class="" type="checkbox" {% if user.get_profile.showemail %}checked="yes"{% endif %}" name="showemail" id="showemail" /><br />

  <input type="submit" value="Save Changes" />
</form>

{% block cssblock %}
<link rel="stylesheet" href="{{ MEDIA_URL }}css/validationEngine.jquery.css" type="text/css" media="screen" charset="utf-8" />
{% endblock %}

{% block jsblock %}
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery.validate/1.7/jquery.validate.min.js"></script>

<script src="{{ MEDIA_URL }}js/jquery.validationEngine-en.js" type="text/javascript"></script>
<script src="{{ MEDIA_URL }}js/jquery.validationEngine.js" type="text/javascript"></script>

<script>
$(document).ready(function() {
  $('#editForm').validationEngine();
});
</script>
{% endblock %}
{% endblock %}
