{% extends "base.html" %}
{% block title %}Users{% endblock %}
{% block content %}
<h2>Users</h2> 

<h3>Search</h3>
<form class="block" action="." method="get">
  <input type="text" value="{{ searchtxt }}" name="searchtxt" id="searchtxt" />
  <input type="submit" value="Search" />
</form>

<h3>Results</h3>
{% for user in users.object_list %}
  <div class="block">
    <h3><a href="{{ user.get_absolute_url }}">{{ user.get_profile.get_display_name}}{% if not user.get_profile.get_display_name == user.username %} ({{ user.username }}){% endif %}</a></h3>

    <p><b>Bio:</b> {% if user.get_profile.bio %}{{ user.get_profile.bio }}{% else %}This user hasn't entered a bio yet.{% endif %}</p>
  </div>
{% endfor %}

<div class="block">
  <p>
  {% if users.has_previous %}
    <a href="?page={{ users.previous_page_number }}">Previous</a>
  {% endif %}

  <b>Page {{ users.number }} of {{ users.paginator.num_pages }}</b>

  {% if users.has_next %}
    <a href="?page={{ users.next_page_number }}">Next</a>
  {% endif %}
  </p>
</div>
{% endblock %}
