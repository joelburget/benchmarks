{% extends "base.html" %}

{% block title %}{{ object.first_name }} {{ object.last_name }} - Profile{% endblock %}

{% block content %}
<h2>Profile</h2>
<ul>
  <li><b>Username:</b> {{ object.username }}</li>
  <li><b>Real Name:</b> {{ object.first_name }} {{ object.last_name }}</li>

  <li><b>Email:</b> 
  {% if user.is_authenticated %}
    {% if object.get_profile.showemail %}
      {{ object.email }}
    {% else %}
      {% if object.first_name %}{{ object.first_name }}{% else %}{{ object.username }}{% endif %} has opted out of showing this field.
    {% endif %}
  {% else %}
    <i>Please log in to see user email addresses.</i>
  {% endif %}</li>

  <li><b>Bio:</b> {% if object.get_profile.bio == '' %}This user hasn't entered a bio yet.{% else %}{{ object.get_profile.bio }}{% endif %}</li>
  <li><b>Joined:</b> {{ object.date_joined }}</li>
  <li><b>Last Seen:</b> {{ object.last_login }}</li>
</ul>

{% if user.username == object.username %}
<a href="{{ object.get_absolute_url }}edit/">Edit</a>
{% endif %}

<h2>Groups</h2>
{% if object.groups.all %}
<ul>
{% for g in object.groups.all %}
  <li><a href="/groups/{{ g.pk }}">{{ g.name }}</a></li>
{% endfor %}
</ul>
{% else %}
<p>This user hasn't joined any groups yet.</p>
{% endif %}
<p><a href="/groups/">View all Groups</a></p>

<h2>Posts</h2>
{% if posts %}
<ul>
{% for post in posts %}
  <li><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></li>
{% endfor %}
</ul>
{% else %}
<p>This user hasn't posted any content yet.</p>
{% endif %}

<h2>Comments</h2>
{% if comments_list %}
<ul>
{% for c in comments_list %}
  <li><a href="/posts/{{ c.object_pk }}/">{{ c.comment }}</a></li>
{% endfor %}
</ul>
{% else %}
<p>This user hasn't commented on any posts yet.</p>
{% endif %}
{% endblock %}
