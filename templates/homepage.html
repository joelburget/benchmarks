{% extends "base.html" %}
{% load comments %}
{% block title %}RSRG Benchmarks{% endblock %}
{% block content %}
{% if not user.is_authenticated %}
<div id="welcome">
<h2>Welcome!</h2>
<p>Hello, and welcome to the OSU Reusable Software Research Group's online Benchmarks web application!</p>
</div>
{% endif %}
<div id="navigation">
  <ul>
    <li><a href="/posts/">View all Posts</a></li> -
    <li><a href="/groups/">View all Groups</a></li>
  </ul>
</div>
<h2>Featured Posts</h2>
{% for object in featured_posts %}
	<div class="block">
	<h3><a href="/{{ object.id }}">{{ object.title }}</a></h3>
	{{ object.body|truncatewords_html:"50"|striptags }}
	{% get_comment_count for object as comment_count %}
	<p>Posted by: <a href="/user/{{ object.author }}/">{{ object.author.first_name }} {{ object.author.last_name }}</a>, on {{ object.published }} - <a href="/{{ object.id }}#comments">{{ comment_count }} comment{{ comment_count|pluralize }}</a></p>
	</div>
{% endfor %}

<h2>Latest Posts</h2>
	{% for object in latest_posts %}
	<div class="block">
	<h3><a href="/{{ object.id }}/">{{ object.title }}</a></h3></a>
	{{ object.body|truncatewords_html:"50"|striptags }}
	{% get_comment_count for object as comment_count %}
	<p>Posted by: <a href="/user/{{ object.author }}/">{{ object.author.first_name }} {{ object.author.last_name }}</a>, on {{ object.published }} - <a href="/{{ object.id }}#comments">{{ comment_count }} comment{{ comment_count|pluralize }}</a></p>
	</div>
{% endfor %}

<h2>Latest Discussion</h2>
<ul>
{% for comment in latest_discussion %}
  <li>{{ comment.comment|safe }} - <a href="/user/{{ comment.user.username }}/">{{ comment.user.first_name }} {{ comment.user.last_name }}</a></li>
{% endfor %}
</ul>
</div>
{% endblock %}
